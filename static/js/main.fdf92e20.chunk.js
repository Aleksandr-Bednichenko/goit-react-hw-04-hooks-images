(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__33-Xu","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__5Etg-",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage___rlEZ"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__Syns0",Modal:"Modal_Modal__3HF7t"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2yknC"}},16:function(e,t,a){e.exports={App:"App_App__32pEM"}},17:function(e,t,a){e.exports={btn:"Button_btn__3LgVl"}},21:function(e,t,a){e.exports={loader:"Loader_loader__1H9IW"}},28:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__37bXc",SearchForm:"Searchbar_SearchForm__21cPF",SearchFormButton:"Searchbar_SearchFormButton__1j6Mz",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3tNBJ",SearchFormInput:"Searchbar_SearchFormInput__2o1xO","SearchForm-input":"Searchbar_SearchForm-input__27zcY"}},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(28),a(10)),s=a.n(i),u=a(13),l=a(14),m=a(3),b=a(8),h=(a(30),a(4)),j=a.n(h),g=a(1);var p=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(g.jsx)("header",{className:j.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438.")},className:j.a.SearchForm,children:[Object(g.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(g.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:j.a.SearchFormInput,type:"text",placeholder:"Search images and photos",name:"imgName",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},f=a(11),d=a.n(f),O=function(e){var t=e.src,a=e.largeImg;return Object(g.jsx)("li",{className:d.a.ImageGalleryItem,children:Object(g.jsx)("img",{src:t,alt:"",className:d.a.ImageGalleryItemImage,"data-img":a,height:"240",width:"320"})})},_=a(15),I=a.n(_),S=function(e){var t=e.images,a=e.onImgClick;return Object(g.jsx)("ul",{className:I.a.ImageGallery,onClick:a,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(g.jsx)(O,{src:a,largeImg:n},t)}))})},y=a(16),x=a.n(y),v=a(2),F=a.n(v);function w(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("21991810-52bb16b7f0c761b580b9c00ed","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e)))}))}w.propTypes={name:F.a.string.isRequired,page:F.a.string.isRequired};var k={fetchImg:w},C=a(17),G=a.n(C),N=function(e){var t=e.onBtnClick,a=e.text;return Object(g.jsx)("button",{className:G.a.btn,type:"button",onClick:t,children:a})},B=a(12),L=a.n(B);function E(e){var t=e.onCloseModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(g.jsx)("div",{className:L.a.Overlay,onClick:t,children:Object(g.jsx)("div",{className:L.a.Modal,children:a})})}var M=a(18),T=a(19),A=a(23),H=a(22),P=(a(34),a(20)),R=a.n(P),q=a(21),z=a.n(q),D=function(e){Object(A.a)(a,e);var t=Object(H.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:z.a.loader,children:Object(g.jsx)(R.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,timeout:3e3})})}}]),a}(r.a.Component);var J=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(m.a)(c,2),i=o[0],h=o[1],j=Object(n.useState)([]),f=Object(m.a)(j,2),d=f[0],O=f[1],_=Object(n.useState)(!1),I=Object(m.a)(_,2),y=I[0],v=I[1],F=Object(n.useState)(""),w=Object(m.a)(F,2),C=w[0],G=w[1],B=Object(n.useState)(!1),L=Object(m.a)(B,2),M=L[0],T=L[1];Object(n.useEffect)((function(){a&&function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.abrupt("return",k.fetchImg(a,i).then((function(e){return O((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e.hits))}))})).finally((function(){return A()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a,i]);var A=function(){v((function(e){return!e}))},H=function(){T((function(e){return!e}))};return Object(g.jsxs)("div",{className:x.a.App,children:[Object(g.jsx)(p,{onSubmit:function(e){r(e),h(1),O([])}}),Object(g.jsx)(S,{images:d,onImgClick:function(e){"IMG"===e.target.nodeName&&(G(e.target.dataset.img),H())}}),y&&Object(g.jsx)(D,{}),d.length>0&&!y&&Object(g.jsx)(N,{onBtnClick:function(){h((function(e){return e+1})),a&&(A(),setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight-160,behavior:"smooth"})}),800),A())},text:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"}),Object(g.jsx)(b.a,{autoClose:3e3}),M&&Object(g.jsx)(E,{onCloseModal:H,children:Object(g.jsx)("img",{src:C,alt:"Dont Worry Be Happy"})})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root")),U()}},[[53,1,2]]]);
//# sourceMappingURL=main.fdf92e20.chunk.js.map